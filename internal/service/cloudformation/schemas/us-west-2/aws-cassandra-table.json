{
  "typeName" : "AWS::Cassandra::Table",
  "description" : "Resource schema for AWS::Cassandra::Table",
  "definitions" : {
    "Column" : {
      "type" : "object",
      "properties" : {
        "ColumnName" : {
          "type" : "string",
          "pattern" : "^[a-zA-Z0-9][a-zA-Z0-9_]{1,47}$"
        },
        "ColumnType" : {
          "type" : "string"
        }
      },
      "required" : [ "ColumnName", "ColumnType" ],
      "additionalProperties" : false
    },
    "ClusteringKeyColumn" : {
      "type" : "object",
      "properties" : {
        "Column" : {
          "$ref" : "#/definitions/Column"
        },
        "OrderBy" : {
          "type" : "string",
          "enum" : [ "ASC", "DESC" ],
          "default" : "ASC"
        }
      },
      "additionalProperties" : false,
      "required" : [ "Column" ]
    },
    "ProvisionedThroughput" : {
      "description" : "Throughput for the specified table, which consists of values for ReadCapacityUnits and WriteCapacityUnits",
      "type" : "object",
      "properties" : {
        "ReadCapacityUnits" : {
          "type" : "integer",
          "minimum" : 1
        },
        "WriteCapacityUnits" : {
          "type" : "integer",
          "minimum" : 1
        }
      },
      "additionalProperties" : false,
      "required" : [ "ReadCapacityUnits", "WriteCapacityUnits" ]
    },
    "Mode" : {
      "description" : "Capacity mode for the specified table",
      "type" : "string",
      "enum" : [ "PROVISIONED", "ON_DEMAND" ],
      "default" : "ON_DEMAND"
    },
    "BillingMode" : {
      "type" : "object",
      "properties" : {
        "Mode" : {
          "$ref" : "#/definitions/Mode"
        },
        "ProvisionedThroughput" : {
          "$ref" : "#/definitions/ProvisionedThroughput"
        }
      },
      "required" : [ "Mode" ],
      "additionalProperties" : false
    },
    "Tag" : {
      "description" : "A key-value pair to apply to the resource",
      "type" : "object",
      "additionalProperties" : false,
      "properties" : {
        "Key" : {
          "type" : "string",
          "minLength" : 1,
          "maxLength" : 128
        },
        "Value" : {
          "type" : "string",
          "minLength" : 1,
          "maxLength" : 256
        }
      },
      "required" : [ "Value", "Key" ]
    }
  },
  "properties" : {
    "KeyspaceName" : {
      "description" : "Name for Cassandra keyspace",
      "type" : "string",
      "pattern" : "^[a-zA-Z0-9][a-zA-Z0-9_]{1,47}$"
    },
    "TableName" : {
      "description" : "Name for Cassandra table",
      "type" : "string",
      "pattern" : "^[a-zA-Z0-9][a-zA-Z0-9_]{1,47}$"
    },
    "RegularColumns" : {
      "description" : "Non-key columns of the table",
      "type" : "array",
      "uniqueItems" : true,
      "insertionOrder" : false,
      "items" : {
        "$ref" : "#/definitions/Column"
      }
    },
    "PartitionKeyColumns" : {
      "description" : "Partition key columns of the table",
      "type" : "array",
      "minItems" : 1,
      "uniqueItems" : true,
      "insertionOrder" : true,
      "items" : {
        "$ref" : "#/definitions/Column"
      }
    },
    "ClusteringKeyColumns" : {
      "description" : "Clustering key columns of the table",
      "type" : "array",
      "uniqueItems" : true,
      "insertionOrder" : true,
      "items" : {
        "$ref" : "#/definitions/ClusteringKeyColumn"
      }
    },
    "BillingMode" : {
      "$ref" : "#/definitions/BillingMode"
    },
    "PointInTimeRecoveryEnabled" : {
      "description" : "Indicates whether point in time recovery is enabled (true) or disabled (false) on the table",
      "type" : "boolean"
    },
    "Tags" : {
      "description" : "An array of key-value pairs to apply to this resource",
      "type" : "array",
      "uniqueItems" : true,
      "items" : {
        "$ref" : "#/definitions/Tag"
      },
      "minItems" : 0,
      "maxItems" : 50
    }
  },
  "additionalProperties" : false,
  "required" : [ "KeyspaceName", "PartitionKeyColumns" ],
  "createOnlyProperties" : [ "/properties/KeyspaceName", "/properties/TableName", "/properties/PartitionKeyColumns", "/properties/ClusteringKeyColumns" ],
  "primaryIdentifier" : [ "/properties/KeyspaceName", "/properties/TableName" ],
  "handlers" : {
    "create" : {
      "permissions" : [ "cassandra:Create", "cassandra:Select", "cassandra:TagResource" ]
    },
    "read" : {
      "permissions" : [ "cassandra:Select" ]
    },
    "update" : {
      "permissions" : [ "cassandra:Alter", "cassandra:Select", "cassandra:TagResource", "cassandra:UntagResource" ]
    },
    "delete" : {
      "permissions" : [ "cassandra:Drop", "cassandra:Select" ]
    },
    "list" : {
      "permissions" : [ "cassandra:Select" ]
    }
  }
}