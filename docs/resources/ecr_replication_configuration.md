
---
page_title: "awscc_ecr_replication_configuration Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  The AWS::ECR::ReplicationConfiguration resource configures the replication destinations for an Amazon Elastic Container Registry (Amazon Private ECR). For more information, see https://docs.aws.amazon.com/AmazonECR/latest/userguide/replication.html
---

# awscc_ecr_replication_configuration (Resource)

The AWS::ECR::ReplicationConfiguration resource configures the replication destinations for an Amazon Elastic Container Registry (Amazon Private ECR). For more information, see https://docs.aws.amazon.com/AmazonECR/latest/userguide/replication.html

## Example Usage

### Cross-Region ECR Repository Replication

Configure ECR repository replication across multiple AWS regions for repositories with 'prod-' prefix, enabling image replication to two destination regions for enhanced availability and disaster recovery.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get current AWS account and region
data "aws_caller_identity" "current" {}
data "aws_region" "current" {}

# Create cross region replication configuration
resource "awscc_ecr_replication_configuration" "example" {
  replication_configuration = {
    rules = [
      {
        destinations = [
          {
            region      = (data.aws_region.current.name == "eu-west-1" ? "us-west-2" : "eu-west-1") # Primary replication region
            registry_id = data.aws_caller_identity.current.account_id
          },
          {
            region      = "ap-southeast-1" # Secondary replication region
            registry_id = data.aws_caller_identity.current.account_id
          }
        ]
        repository_filters = [
          {
            filter      = "prod-"
            filter_type = "PREFIX_MATCH"
          }
        ]
      }
    ]
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `replication_configuration` (Attributes) An object representing the replication configuration for a registry. (see [below for nested schema](#nestedatt--replication_configuration))

### Read-Only

- `id` (String) Uniquely identifies the resource.
- `registry_id` (String) The RegistryId associated with the aws account.

<a id="nestedatt--replication_configuration"></a>
### Nested Schema for `replication_configuration`

Required:

- `rules` (Attributes List) An array of objects representing the replication rules for a replication configuration. A replication configuration may contain a maximum of 10 rules. (see [below for nested schema](#nestedatt--replication_configuration--rules))

<a id="nestedatt--replication_configuration--rules"></a>
### Nested Schema for `replication_configuration.rules`

Required:

- `destinations` (Attributes List) An array of objects representing the details of a replication destination. (see [below for nested schema](#nestedatt--replication_configuration--rules--destinations))

Optional:

- `repository_filters` (Attributes List) An array of objects representing the details of a repository filter. (see [below for nested schema](#nestedatt--replication_configuration--rules--repository_filters))

<a id="nestedatt--replication_configuration--rules--destinations"></a>
### Nested Schema for `replication_configuration.rules.destinations`

Required:

- `region` (String) A Region to replicate to.
- `registry_id` (String) The account ID of the destination registry to replicate to.


<a id="nestedatt--replication_configuration--rules--repository_filters"></a>
### Nested Schema for `replication_configuration.rules.repository_filters`

Optional:

- `filter` (String) The repository filter to be applied for replication.
- `filter_type` (String) Type of repository filter

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_ecr_replication_configuration.example "registry_id"
```
