---
page_title: "awscc_s3_bucket_policy Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource Type definition for AWS::S3::BucketPolicy
---

# awscc_s3_bucket_policy (Resource)

Resource Type definition for AWS::S3::BucketPolicy

## Example Usage

### Deny public read

Deny read object from any principles

```terraform
resource "awscc_s3_bucket_policy" "example" {
  bucket = awscc_s3_bucket.example.id
  policy_document = jsonencode({
    "Version" : "2012-10-17",
    "Statement" : [
      {
        "Sid" : "DenyPublicRead",
        "Effect" : "Deny",
        "Principal" : "*",
        "Action" : "s3:GetObject",
        "Resource" : "${awscc_s3_bucket.example.arn}/*"
      }
    ]
  })
}

resource "awscc_s3_bucket" "example" {
}
```

### GET requests from specific referers

The following sample is a bucket policy that is attached to the DOC-EXAMPLE-BUCKET bucket and allows GET requests that originate from www.example.com and example.net

```terraform
data "aws_caller_identity" "current" {}

resource "awscc_s3_bucket_policy" "example" {
  bucket = awscc_s3_bucket.example.id
  policy_document = jsonencode({
    Version = "2012-10-17"
    Statement = [{
      Action    = ["s3:GetObject"]
      Effect    = "Allow"
      Resource  = "${awscc_s3_bucket.example.arn}/DOC-EXAMPLE-BUCKET/*"
      Principal = "*"
      Condition = {
        StringLike = {
          "aws:Referer" = ["http://www.example.com/*", "http://example.net/*"]
        }
      }
    }]
  })
}

resource "awscc_s3_bucket" "example" {
  public_access_block_configuration = {
    block_public_acls       = true
    block_public_policy     = false
    ignore_public_acls      = true
    restrict_public_buckets = false
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `bucket` (String) The name of the Amazon S3 bucket to which the policy applies.
- `policy_document` (String) A policy document containing permissions to add to the specified bucket. In IAM, you must provide policy documents in JSON format. However, in CloudFormation you can provide the policy in JSON or YAML format because CloudFormation converts YAML to JSON before submitting it to IAM.

### Read-Only

- `id` (String) Uniquely identifies the resource.

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_s3_bucket_policy.example <resource ID>
```