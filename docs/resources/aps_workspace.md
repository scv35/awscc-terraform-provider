
---
page_title: "awscc_aps_workspace Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Resource Type definition for AWS::APS::Workspace
---

# awscc_aps_workspace (Resource)

Resource Type definition for AWS::APS::Workspace

## Example Usage

### Amazon Prometheus Service Workspace with Logging and Encryption

Creates an Amazon Managed Service for Prometheus (APS) workspace with CloudWatch logging configuration and KMS encryption, utilizing custom KMS key for enhanced security and CloudWatch log group for workspace monitoring.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
# Get current AWS account ID and region
data "aws_caller_identity" "current" {}
data "aws_region" "current" {}

# Create CloudWatch log group for APS workspace logging
resource "awscc_logs_log_group" "aps_logs" {
  log_group_name = "/aws/aps/workspaces/example"
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create KMS key for APS workspace encryption
resource "awscc_kms_key" "aps_key" {
  description = "KMS key for APS Workspace encryption"
  key_policy = jsonencode({
    Version = "2012-10-17"
    Statement = [
      {
        Sid    = "Enable IAM User Permissions"
        Effect = "Allow"
        Principal = {
          AWS = "arn:aws:iam::${data.aws_caller_identity.current.account_id}:root"
        }
        Action   = "kms:*"
        Resource = "*"
      },
      {
        Sid    = "Allow APS Service"
        Effect = "Allow"
        Principal = {
          Service = "aps.amazonaws.com"
        }
        Action = [
          "kms:Decrypt",
          "kms:GenerateDataKey"
        ]
        Resource = "*"
      }
    ]
  })
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create the APS workspace
resource "awscc_aps_workspace" "example" {
  alias = "example-workspace"
  logging_configuration = {
    log_group_arn = awscc_logs_log_group.aps_logs.arn
  }
  kms_key_arn = awscc_kms_key.aps_key.arn
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Optional

- `alert_manager_definition` (String) The AMP Workspace alert manager definition data
- `alias` (String) AMP Workspace alias.
- `kms_key_arn` (String) KMS Key ARN used to encrypt and decrypt AMP workspace data.
- `logging_configuration` (Attributes) Logging configuration (see [below for nested schema](#nestedatt--logging_configuration))
- `tags` (Attributes Set) An array of key-value pairs to apply to this resource. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `arn` (String) Workspace arn.
- `id` (String) Uniquely identifies the resource.
- `prometheus_endpoint` (String) AMP Workspace prometheus endpoint
- `workspace_id` (String) Required to identify a specific APS Workspace.

<a id="nestedatt--logging_configuration"></a>
### Nested Schema for `logging_configuration`

Optional:

- `log_group_arn` (String) CloudWatch log group ARN


<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.
- `value` (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_aps_workspace.example "arn"
```
