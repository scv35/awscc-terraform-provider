
---
page_title: "awscc_rds_db_shard_group Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  The AWS::RDS::DBShardGroup resource creates an Amazon Aurora Limitless DB Shard Group.
---

# awscc_rds_db_shard_group (Resource)

The AWS::RDS::DBShardGroup resource creates an Amazon Aurora Limitless DB Shard Group.

## Example Usage

### Aurora Limitless DB Shard Group Configuration

Creates an Aurora Limitless DB shard group with customizable ACU limits (64-128) and compute redundancy of 2, integrated with a secure VPC infrastructure including subnet groups and security groups for PostgreSQL access.

~> This example is generated by LLM using Amazon Bedrock and validated using terraform validate, apply and destroy. While we strive for accuracy and quality, please note that the information provided may not be entirely error-free or up-to-date. We recommend independently verifying the content.

```terraform
data "aws_caller_identity" "current" {}
data "aws_region" "current" {}

# Create a VPC
resource "awscc_ec2_vpc" "example" {
  cidr_block           = "10.0.0.0/16"
  enable_dns_hostnames = true
  enable_dns_support   = true
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create subnets
resource "awscc_ec2_subnet" "example1" {
  vpc_id            = awscc_ec2_vpc.example.id
  cidr_block        = "10.0.1.0/24"
  availability_zone = "${data.aws_region.current.name}a"
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

resource "awscc_ec2_subnet" "example2" {
  vpc_id            = awscc_ec2_vpc.example.id
  cidr_block        = "10.0.2.0/24"
  availability_zone = "${data.aws_region.current.name}b"
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create DB subnet group
resource "awscc_rds_db_subnet_group" "example" {
  db_subnet_group_description = "Subnet group for Aurora Limitless"
  subnet_ids                  = [awscc_ec2_subnet.example1.id, awscc_ec2_subnet.example2.id]
  db_subnet_group_name        = "example-subnet-group"
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create an Aurora DB cluster
resource "awscc_rds_db_cluster" "example" {
  engine                 = "aurora-postgresql"
  engine_version         = "15.3"
  master_username        = "exampleuser"
  master_user_password   = "examplepassword123!"
  db_cluster_identifier  = "example-aurora-cluster"
  vpc_security_group_ids = [awscc_ec2_security_group.example.id]
  db_subnet_group_name   = awscc_rds_db_subnet_group.example.db_subnet_group_name
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create security group for the DB cluster
resource "awscc_ec2_security_group" "example" {
  group_description = "Security group for Aurora Limitless"
  vpc_id            = awscc_ec2_vpc.example.id
  security_group_ingress = [
    {
      from_port   = 5432
      to_port     = 5432
      ip_protocol = "tcp"
      cidr_ip     = "0.0.0.0/0"
    }
  ]
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}

# Create DB shard group
resource "awscc_rds_db_shard_group" "example" {
  db_cluster_identifier     = awscc_rds_db_cluster.example.id
  db_shard_group_identifier = "example-shard-group"
  max_acu                   = 128
  min_acu                   = 64
  compute_redundancy        = 2
  publicly_accessible       = false
  tags = [{
    key   = "Modified By"
    value = "AWSCC"
  }]
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `db_cluster_identifier` (String) The name of the primary DB cluster for the DB shard group.
- `max_acu` (Number) The maximum capacity of the DB shard group in Aurora capacity units (ACUs).

### Optional

- `compute_redundancy` (Number) Specifies whether to create standby instances for the DB shard group.
- `db_shard_group_identifier` (String) The name of the DB shard group.
- `min_acu` (Number) The minimum capacity of the DB shard group in Aurora capacity units (ACUs).
- `publicly_accessible` (Boolean) Indicates whether the DB shard group is publicly accessible.
- `tags` (Attributes Set) An array of key-value pairs to apply to this resource. (see [below for nested schema](#nestedatt--tags))

### Read-Only

- `db_shard_group_resource_id` (String) The Amazon Web Services Region-unique, immutable identifier for the DB shard group.
- `endpoint` (String) The connection endpoint for the DB shard group.
- `id` (String) Uniquely identifies the resource.

<a id="nestedatt--tags"></a>
### Nested Schema for `tags`

Optional:

- `key` (String) The key name of the tag. You can specify a value that is 1 to 128 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.
- `value` (String) The value for the tag. You can specify a value that is 0 to 256 Unicode characters in length and cannot be prefixed with aws:. You can use any of the following characters: the set of Unicode letters, digits, whitespace, _, ., /, =, +, and -.

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_rds_db_shard_group.example "db_shard_group_identifier"
```
