---
page_title: "awscc_bedrock_knowledge_base Resource - terraform-provider-awscc"
subcategory: ""
description: |-
  Definition of AWS::Bedrock::KnowledgeBase Resource Type
---

# awscc_bedrock_knowledge_base (Resource)

Definition of AWS::Bedrock::KnowledgeBase Resource Type

## Example Usage

Create a Bedrock Knowledge base with an existing OpenSearch Serverless collection and Amazon Titan. The access policies need to be set before the role arn can be associated with the Knowledge base.

```terraform
resource "awscc_bedrock_knowledge_base" "example" {
  name        = "example"
  description = "Example Knowledge base"
  role_arn    = var.kb_role_arn

  storage_configuration = {
    type = "OPENSEARCH_SERVERLESS"
    opensearch_serverless_configuration = {
      collection_arn    = var.collection_arn
      vector_index_name = var.vector_index_name
      field_mapping = {
        metadata_field = var.metadata_field
        text_field     = var.text_field
        vector_field   = var.vector_field
      }
    }
  }
  knowledge_base_configuration = {
    type = "VECTOR"
    vector_knowledge_base_configuration = {
      embedding_model_arn = "arn:aws:bedrock:us-east-1::foundation-model/amazon.titan-embed-text-v1"
    }
  }
}

variable "vector_index_name" {
  type = string
}

variable "metadata_field" {
  type = string
}

variable "text_field" {
  type = string
}

variable "vector_field" {
  type = string
}

variable "collection_arn" {
  type = string
}

variable "kb_role_arn" {
  type = string
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `knowledge_base_configuration` (Attributes) Contains details about the embeddings model used for the knowledge base. (see [below for nested schema](#nestedatt--knowledge_base_configuration))
- `name` (String) The name of the knowledge base.
- `role_arn` (String) The ARN of the IAM role with permissions to invoke API operations on the knowledge base. The ARN must begin with AmazonBedrockExecutionRoleForKnowledgeBase_
- `storage_configuration` (Attributes) The vector store service in which the knowledge base is stored. (see [below for nested schema](#nestedatt--storage_configuration))

### Optional

- `description` (String) Description of the Resource.
- `tags` (Map of String) A map of tag keys and values

### Read-Only

- `created_at` (String) The time at which the knowledge base was created.
- `failure_reasons` (List of String) A list of reasons that the API operation on the knowledge base failed.
- `id` (String) Uniquely identifies the resource.
- `knowledge_base_arn` (String) The ARN of the knowledge base.
- `knowledge_base_id` (String) The unique identifier of the knowledge base.
- `status` (String) The status of a knowledge base.
- `updated_at` (String) The time at which the knowledge base was last updated.

<a id="nestedatt--knowledge_base_configuration"></a>
### Nested Schema for `knowledge_base_configuration`

Required:

- `type` (String) The type of a knowledge base.
- `vector_knowledge_base_configuration` (Attributes) Contains details about the model used to create vector embeddings for the knowledge base. (see [below for nested schema](#nestedatt--knowledge_base_configuration--vector_knowledge_base_configuration))

<a id="nestedatt--knowledge_base_configuration--vector_knowledge_base_configuration"></a>
### Nested Schema for `knowledge_base_configuration.vector_knowledge_base_configuration`

Required:

- `embedding_model_arn` (String) The ARN of the model used to create vector embeddings for the knowledge base.

Optional:

- `embedding_model_configuration` (Attributes) The embeddings model configuration details for the vector model used in Knowledge Base. (see [below for nested schema](#nestedatt--knowledge_base_configuration--vector_knowledge_base_configuration--embedding_model_configuration))

<a id="nestedatt--knowledge_base_configuration--vector_knowledge_base_configuration--embedding_model_configuration"></a>
### Nested Schema for `knowledge_base_configuration.vector_knowledge_base_configuration.embedding_model_configuration`

Optional:

- `bedrock_embedding_model_configuration` (Attributes) The vector configuration details for the Bedrock embeddings model. (see [below for nested schema](#nestedatt--knowledge_base_configuration--vector_knowledge_base_configuration--embedding_model_configuration--bedrock_embedding_model_configuration))

<a id="nestedatt--knowledge_base_configuration--vector_knowledge_base_configuration--embedding_model_configuration--bedrock_embedding_model_configuration"></a>
### Nested Schema for `knowledge_base_configuration.vector_knowledge_base_configuration.embedding_model_configuration.bedrock_embedding_model_configuration`

Optional:

- `dimensions` (Number) The dimensions details for the vector configuration used on the Bedrock embeddings model.





<a id="nestedatt--storage_configuration"></a>
### Nested Schema for `storage_configuration`

Required:

- `type` (String) The storage type of a knowledge base.

Optional:

- `mongo_db_atlas_configuration` (Attributes) Contains the storage configuration of the knowledge base in MongoDb Atlas Cloud. (see [below for nested schema](#nestedatt--storage_configuration--mongo_db_atlas_configuration))
- `opensearch_serverless_configuration` (Attributes) Contains the storage configuration of the knowledge base in Amazon OpenSearch Service. (see [below for nested schema](#nestedatt--storage_configuration--opensearch_serverless_configuration))
- `pinecone_configuration` (Attributes) Contains the storage configuration of the knowledge base in Pinecone. (see [below for nested schema](#nestedatt--storage_configuration--pinecone_configuration))
- `rds_configuration` (Attributes) Contains details about the storage configuration of the knowledge base in Amazon RDS. For more information, see Create a vector index in Amazon RDS. (see [below for nested schema](#nestedatt--storage_configuration--rds_configuration))

<a id="nestedatt--storage_configuration--mongo_db_atlas_configuration"></a>
### Nested Schema for `storage_configuration.mongo_db_atlas_configuration`

Required:

- `collection_name` (String) Name of the collection within MongoDB Atlas.
- `credentials_secret_arn` (String) The ARN of the secret that you created in AWS Secrets Manager that is linked to your Amazon Mongo database.
- `database_name` (String) Name of the database within MongoDB Atlas.
- `endpoint` (String) MongoDB Atlas endpoint.
- `field_mapping` (Attributes) Contains the names of the fields to which to map information about the vector store. (see [below for nested schema](#nestedatt--storage_configuration--mongo_db_atlas_configuration--field_mapping))
- `vector_index_name` (String) Name of a MongoDB Atlas index.

Optional:

- `endpoint_service_name` (String) MongoDB Atlas endpoint service name.

<a id="nestedatt--storage_configuration--mongo_db_atlas_configuration--field_mapping"></a>
### Nested Schema for `storage_configuration.mongo_db_atlas_configuration.field_mapping`

Required:

- `metadata_field` (String) The name of the field in which Amazon Bedrock stores metadata about the vector store.
- `text_field` (String) The name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.
- `vector_field` (String) The name of the field in which Amazon Bedrock stores the vector embeddings for your data sources.



<a id="nestedatt--storage_configuration--opensearch_serverless_configuration"></a>
### Nested Schema for `storage_configuration.opensearch_serverless_configuration`

Required:

- `collection_arn` (String) The ARN of the OpenSearch Service vector store.
- `field_mapping` (Attributes) A mapping of Bedrock Knowledge Base fields to OpenSearch Serverless field names (see [below for nested schema](#nestedatt--storage_configuration--opensearch_serverless_configuration--field_mapping))
- `vector_index_name` (String) The name of the vector store.

<a id="nestedatt--storage_configuration--opensearch_serverless_configuration--field_mapping"></a>
### Nested Schema for `storage_configuration.opensearch_serverless_configuration.field_mapping`

Required:

- `metadata_field` (String) The name of the field in which Amazon Bedrock stores metadata about the vector store.
- `text_field` (String) The name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.
- `vector_field` (String) The name of the field in which Amazon Bedrock stores the vector embeddings for your data sources.



<a id="nestedatt--storage_configuration--pinecone_configuration"></a>
### Nested Schema for `storage_configuration.pinecone_configuration`

Required:

- `connection_string` (String) The endpoint URL for your index management page.
- `credentials_secret_arn` (String) The ARN of the secret that you created in AWS Secrets Manager that is linked to your Pinecone API key.
- `field_mapping` (Attributes) Contains the names of the fields to which to map information about the vector store. (see [below for nested schema](#nestedatt--storage_configuration--pinecone_configuration--field_mapping))

Optional:

- `namespace` (String) The namespace to be used to write new data to your database.

<a id="nestedatt--storage_configuration--pinecone_configuration--field_mapping"></a>
### Nested Schema for `storage_configuration.pinecone_configuration.field_mapping`

Required:

- `metadata_field` (String) The name of the field in which Amazon Bedrock stores metadata about the vector store.
- `text_field` (String) The name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.



<a id="nestedatt--storage_configuration--rds_configuration"></a>
### Nested Schema for `storage_configuration.rds_configuration`

Required:

- `credentials_secret_arn` (String) The ARN of the secret that you created in AWS Secrets Manager that is linked to your Amazon RDS database.
- `database_name` (String) The name of your Amazon RDS database.
- `field_mapping` (Attributes) Contains the names of the fields to which to map information about the vector store. (see [below for nested schema](#nestedatt--storage_configuration--rds_configuration--field_mapping))
- `resource_arn` (String) The ARN of the vector store.
- `table_name` (String) The name of the table in the database.

<a id="nestedatt--storage_configuration--rds_configuration--field_mapping"></a>
### Nested Schema for `storage_configuration.rds_configuration.field_mapping`

Required:

- `metadata_field` (String) The name of the field in which Amazon Bedrock stores metadata about the vector store.
- `primary_key_field` (String) The name of the field in which Amazon Bedrock stores the ID for each entry.
- `text_field` (String) The name of the field in which Amazon Bedrock stores the raw text from your data. The text is split according to the chunking strategy you choose.
- `vector_field` (String) The name of the field in which Amazon Bedrock stores the vector embeddings for your data sources.

## Import

Import is supported using the following syntax:

```shell
$ terraform import awscc_bedrock_knowledge_base.example <resource ID>
```